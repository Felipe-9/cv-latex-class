%% Packages

\RequirePackage{etoolbox}
\RequirePackage{calc}
\RequirePackage{xparse}

\RequirePackage{ifthen}

%% INFO: colors
\RequirePackage{xcolor}

\definecolor{accent}{HTML}{148e7c} % #148e7c
\definecolor{grey}  {HTML}{3f4552} % #3f4552
\definecolor{link}  {HTML}{2c4f25} % #2c4f25
% \definecolor{green-0}{HTML}{0b1b08} % #0b1b08
% \definecolor{green-1}{HTML}{2c4f25} % #2c4f25
% \definecolor{green-2}{HTML}{518b45} % #518b45

% tex compiler checking for symbol loading
\RequirePackage{iftex}
\newif\ifxetexorluatex
\ifxetex
  \xetexorluatextrue
\else
  \ifluatex
    \xetexorluatextrue
  \else
    \xetexorluatexfalse
  \fi
\fi

\AtEndPreamble{
  \pagenumbering{arabic} 
  % has to be issued before loading hyperref, as to set \thepage and hence to avoid hyperref issuing a warning and setting pdfpagelabels=false

  \PassOptionsToPackage{unicode}{hyperref}

  \RequirePackage{hyperref}
  \hypersetup{
    colorlinks  = true,
    linkcolor   = link,
    anchorcolor = link,
    urlcolor    = link,
    citecolor   = link,
    % Metadata
    pdfinfo = {
      Title   =\@title,
      Author  =\@author,
      Creator =\@creator,
      Subject =\@subject,
      Keywords=\@keywords,
    },
    pdfpagelayout      = {OneColumn},
    pdfstartview       = {FitH},
    pdfremotestartview = {FitH}
    pdfdisplaydoctitle = true,
    pdfstartpage={1},
  }
}

\ifpdftex
  \IfPDFManagementActiveTF{}{\RequirePackage[T1]{fontenc}}
\fi
